<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>作业</title>
</head>

<body>
    <script>
        // 1. 定义一个数组，随机获取20个0~100的整数，要求如下（结果要取四舍五入）：
        // - 计算最大值、最小值
        // - 计算数组元素之和、平均值
        // - 将数组元素和平均值的差值组成一个新的数组并按升序排序
        // > 提示：
        // - Math.random()：获取0~1的随机数
        // - Math.round() ：四舍五入
        function zy1(){
            var arr = [];
            for (var i = 0; i < 20; i++) {
                var array = Math.round(Math.random() * 100);
                arr.push(array);
            }
            console.log(arr);
            for(var j = 0;j < arr.length-1;j++){
                if(arr[j] > arr[j+1]){
                    var x = arr[j+1];
                    arr[j+1] = arr[j]
                    arr[j] = x;
                }
            }
            var arrMax = arr[arr.length-1]
            console.log(arrMax);
            for(var j = 0;j < arr.length-1;j++){
                if(arr[j] < arr[j+1]){
                    var x = arr[j+1];
                    arr[j+1] = arr[j]
                    arr[j] = x;
                }
            }
            var arrMin = arr[arr.length-1]
            console.log(arrMin);
            var sum = 0;
            arr.forEach(function(item){
                sum += item;
            })
            console.log(sum);
            var avg = Math.round(sum/(arr.length));
            console.log(avg);

            var arrNew = arr.map(function(item){
                return item - avg;
            })
            console.log(arrNew);
        }
        zy1();

        // 2. 随机输入一个数组，数组元素是数字或者字符串，除该数组中重复的元素。
        function zy2(){
            var arr2 = [1,2,1,1,3,4,"a","c",1,3,3,"b","c",1,2,1];
            arr2.forEach(function(item,idx){
                for(i = idx+1;i < arr2.length;i++){
                    if(item == arr2[i]){
                        arr2.splice(i,1);
                        i--;
                    }
                }
            })
            console.log(arr2);
        }
        zy2();

        // 3. 要求：
        // - 1.按照姓名拼音降序排列所有用户。
        // - 2.筛选出年龄大于等于50岁的所有用户，放入一个新数组。
        // - 3.计算所用用户的年龄平均值。
        // - 4.筛选出所有姓马的用户，放入一个新数组。
        // - 5.给每个用户的年龄都减5。
        // - 6.统计所用户的姓出现的数量。如本案例结果应该为{'马'：2,'李':2，'王':1,'雷':1}
        function zy3(){
            users = [
                {name:'马云',id:1,age:55},
                {name:'马华腾',id:2,age:56},
                {name:'李彦宏',id:3,age:53},
                {name:'王尼马',id:4,age:35},
                {name:'雷军',id:6,age:50},
                {name:'李雷',id:7,age:26},
            ]
            // - 1.按照姓名拼音降序排列所有用户。
            users.sort(function(a,b){
                return a.name.localeCompare(b.name,"zh-CN");
            })
            console.log(users)
            // - 2.筛选出年龄大于等于50岁的所有用户，放入一个新数组。
            var userNew = users.filter(function(item){
                return item.age >= 50;
            })
            console.log(userNew);
            // - 3.计算所用用户的年龄平均值。
            var sum = 0;
            users.forEach(function(item){
                sum += item.age
            })
            var avg = sum / users.length;
            console.log(avg);
            // - 4.筛选出所有姓马的用户，放入一个新数组。
            var userMa = users.filter(function(item){
                return item.name[0] == "马";
            })
            console.log(userMa);
            // - 5.给每个用户的年龄都减5。
            var userAge = users.map(function(item){
                item.age - 5;
                return item;
            })
            console.log(userAge);
            // - 6.统计所用户的姓出现的数量。如本案例结果应该为{'马'：2,'李':2，'王':1,'雷':1}
            var userNameCount = {}
            users.forEach(function(item){
                var userName = item.name[0];
                console.log(userName)
                if(userName in userNameCount){
                    userNameCount[userName]++
                }else{
                    userNameCount[userName] = 1
                }
            })
            console.log(userNameCount);
        }
        zy3();
    </script>
</body>

</html>